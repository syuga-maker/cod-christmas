<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Merry Christmas</title>
    <!-- ä¼˜åŒ–ï¼šåªå¼•å…¥ Great Vibes (è‹±æ–‡èŠ±ä½“)ï¼Œä½¿ç”¨ loli.net å›½å†…é•œåƒåŠ é€Ÿ -->
    <link href="https://fonts.loli.net/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- 0. é¢„åŠ è½½å±‚ -->
    <div id="loading-screen">
        <div class="loader-content">
            <div class="spinner"></div>
            <p>æ­£åœ¨è£…ç‚¹åœ£è¯æ ‘...<br><span style="font-size:0.8rem; opacity:0.7">ï¼ˆèµ„æºåŠ è½½ä¸­ï¼Œè¯·ç¨å€™ï¼‰</span></p>
        </div>
    </div>

    <!-- 1. å¯åŠ¨å±‚ -->
    <div id="start-overlay">
        <div class="start-content">
            <h1>ğŸ„ Merry Christmas ğŸ„</h1>
            <!-- ç›´æ¥æ˜¾ç¤ºå¼€åœºç™½ -->
            <p id="intro-text">æˆ‘ä»¬å‡†å¤‡äº†ä¸€é¢—è¶…æ£’çš„åœ£è¯æ ‘ï¼Œè¦ä¸€èµ·è£…é¥°å—ï¼Ÿ</p>
            <button id="start-btn" style="display:none;">åŠ å…¥ CoD åœ£è¯ä¼åˆ’</button>
        </div>
    </div>

    <!-- 2. æç¤ºæ¡ -->
    <div id="custom-toast">âœ¨ å¿ƒæ„¿å·²æŒ‚ä¸Šæ ‘æ¢¢ï¼</div>

    <!-- 3. ä¸»åœºæ™¯ -->
    <div class="main-container">
        
        <div class="tree-wrapper">
            <!-- æ ‘é¡¶å¤§æ˜Ÿæ˜Ÿ -->
            <div id="top-star-container">
                <svg id="top-star-svg" viewBox="0 0 100 100">
                    <defs>
                        <radialGradient id="star-glow" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" stop-color="#FFD700" stop-opacity="1"/>
                            <stop offset="100%" stop-color="#FFD700" stop-opacity="0"/>
                        </radialGradient>
                    </defs>
                    <circle cx="50" cy="50" r="45" fill="url(#star-glow)" opacity="0.6" class="pulse-glow" />
                    <path fill="#FFD700" d="M50 5 L63 40 L98 40 L70 60 L80 95 L50 75 L20 95 L30 60 L2 40 L37 40 Z" />
                </svg>
            </div>

            <!-- åœ£è¯æ ‘å›¾ç‰‡ -->
            <img src="tree.png" id="tree-img" alt="Christmas Tree">

            <!-- æŒ‚é¥°å±‚ -->
            <div id="ornaments-layer"></div>
        </div>

        <!-- è§’è‰²æ³¡æ³¡å±‚ -->
        <div id="character-bubbles-layer"></div>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <div class="controls">
            <button id="add-wish-btn"><i class="fas fa-pen-fancy"></i> å†™ä¸‹å¿ƒæ„¿</button>
        </div>
    </div>

    <!-- å¼¹çª—ï¼šæŸ¥çœ‹è§’è‰²ç¥ç¦ -->
    <div id="view-modal" class="modal">
        <div class="modal-content glass-card">
            <span class="close-btn">&times;</span>
            <div class="card-header-simple">
                <!-- èŠ±ä½“å…¨å -->
                <h3 id="modal-author" class="fancy-name"></h3>
            </div>
            <div class="card-body">
                <p id="modal-text"></p>
            </div>
            <div class="card-footer-simple">
                <span>â„ï¸ Merry Christmas â„ï¸</span>
            </div>
        </div>
    </div>

    <!-- å¼¹çª—ï¼šå†™ç¥ç¦ -->
    <div id="write-modal" class="modal">
        <div class="modal-content input-style">
            <span class="close-btn">&times;</span>
            <h3>âœ¨ ç•™ä¸‹ä½ çš„å¿ƒæ„¿ âœ¨</h3>
            <input type="text" id="user-name" placeholder="ä½ çš„åå­—/ä»£å·" maxlength="15">
            <textarea id="user-wish" placeholder="å†™ä¸‹ç¾å¥½çš„æ„¿æœ›..." maxlength="50"></textarea>
            <button id="submit-wish">æŒ‚ä¸Šæ ‘æ¢¢</button>
        </div>
    </div>

    <!-- å¼¹çª—ï¼šæ‰€æœ‰ç¥ç¦ -->
    <div id="all-wishes-modal" class="modal">
        <div class="modal-content list-style">
            <span class="close-btn">&times;</span>
            <h3>âœ¨ åœ£è¯è®¸æ„¿æ ‘ âœ¨</h3>
            <div class="list-container">
                <ul id="wishes-list"></ul>
                <!-- ä½œè€…ç½²å -->
                <div class="list-footer">
                    Designed & Created by 141 Task Force
                </div>
            </div>
        </div>
    </div>

    <audio id="bgm" loop>
        <source src="bg_music.mp3" type="audio/mpeg">
    </audio>
    <audio id="char-voice"></audio>

    <script type="module" src="script.js"></script>
</body>
</html>
