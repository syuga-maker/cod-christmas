<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025Cod圣诞企划</title>
    <!-- 引入 Great Vibes (英文花体) -->
    <link href="https://fonts.loli.net/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- 0. 预加载层 -->
    <div id="loading-screen">
        <div class="loader-content">
            <div class="spinner"></div>
            <p>正在装点圣诞树，请稍后...<br><span style="font-size:0.8rem; opacity:0.7">（如果一直打不开，请尝试换浏览器/换设备/使用魔法工具）</span></p>
        </div>
    </div>

    <!-- 1. 启动层 -->
    <div id="start-overlay">
        <div class="start-content">
            <h1>🎄 Merry Christmas</h1>
            <!-- 显示开场白 -->
            <p id="intro-text">我们准备了一颗超棒的圣诞树，要一起装饰吗？</p>
            <button id="start-btn" style="display:none;">加入 CoD 圣诞企划</button>
        </div>
    </div>

    <!-- 2. 提示条 -->
    <div id="custom-toast">✨ 心愿已挂上树梢！</div>

    <!-- 3. 主场景 -->
    <div class="main-container">
        
        <div class="tree-wrapper">
            <!-- 树顶大星星 -->
            <div id="top-star-container">
                <svg id="top-star-svg" viewBox="0 0 100 100">
                    <defs>
                        <radialGradient id="star-glow" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" stop-color="#FFD700" stop-opacity="1"/>
                            <stop offset="100%" stop-color="#FFD700" stop-opacity="0"/>
                        </radialGradient>
                    </defs>
                    <circle cx="50" cy="50" r="45" fill="url(#star-glow)" opacity="0.6" class="pulse-glow" />
                    <path fill="#FFD700" d="M50 5 L63 40 L98 40 L70 60 L80 95 L50 75 L20 95 L30 60 L2 40 L37 40 Z" />
                </svg>
            </div>

            <!-- 圣诞树图片 -->
            <img src="tree.png" id="tree-img" alt="Christmas Tree">

            <!-- 挂饰层 -->
            <div id="ornaments-layer"></div>
        </div>

        <!-- 角色泡泡层 -->
        <div id="character-bubbles-layer"></div>

        <!-- 底部按钮 -->
        <div class="controls">
            <button id="add-wish-btn"><i class="fas fa-pen-fancy"></i> 写下心愿</button>
        </div>
    </div>

    <!-- 弹窗：查看角色祝福 -->
    <div id="view-modal" class="modal">
        <div class="modal-content glass-card">
            <span class="close-btn">&times;</span>
            <div class="card-header-simple">
                <!-- 花体全名 -->
                <h3 id="modal-author" class="fancy-name"></h3>
            </div>
            <div class="card-body">
                <p id="modal-text"></p>
            </div>
            <div class="card-footer-simple">
                <span>❄️ Merry Christmas ❄️</span>
            </div>
        </div>
    </div>

    <!-- 弹窗：写祝福 -->
    <div id="write-modal" class="modal">
        <div class="modal-content input-style">
            <span class="close-btn">&times;</span>
            <h3>✨ 留下你的心愿 ✨</h3>
             <p>明年再来许愿吧！</p>
            <input type="text" id="user-name" placeholder="你的名字/代号" maxlength="15">
            <textarea id="user-wish" placeholder="写下美好的愿望..." maxlength="50"></textarea>
           <!--   <button id="submit-wish">挂上树梢</button>   -->
        </div>
    </div>

    <!-- 弹窗：所有祝福 -->
    <div id="all-wishes-modal" class="modal">
        <div class="modal-content list-style">
            <span class="close-btn">&times;</span>
            <h3>✨ 圣诞许愿树 ✨</h3>
             <p id="wish-counter">已收集心愿: 0</p>
			
<div class="list-container">
                <ul id="wishes-list"></ul>
                <!-- 作者署名 -->
                <div class="list-footer">设计 & 创作 by 又老又脆弱</div>
				<!-- 不蒜子 -->
	 <!--
 <div id="visit-count" style="margin-top: 8px; font-size: 0.7rem; opacity: 0.6; display: none; text-align: center;">
   
    <span>总访客数 <span id="busuanzi_value_site_uv"></span></span>

    
    <span style="margin-right: 8px;">总访问量 <span id="busuanzi_value_site_pv"></span></span>
</div>  
    
  
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>  -->
</div> 

                </div>
            </div>
        </div>
    </div>

    <audio id="bgm" loop>
        <source src="bg_music.mp3" type="audio/mpeg">
    </audio>
    <audio id="char-voice"></audio>

    <script type="module" src="script.js"></script>
</body>
</html>






